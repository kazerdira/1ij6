# Railway Deployment Configuration
# https://docs.railway.app/deploy/config-as-code

[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile.prod"

[deploy]
startCommand = "uvicorn api:app --host 0.0.0.0 --port $PORT --workers 1"
healthcheckPath = "/health/simple"
healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 3

# Environment variables (set these in Railway dashboard)
# [env]
# ENVIRONMENT = "production"
# WHISPER_MODEL = "base"
# MAX_WORKERS = "2"
# ALLOWED_ORIGINS = "https://yourdomain.com"
